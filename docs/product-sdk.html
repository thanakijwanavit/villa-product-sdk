---

title: Products


keywords: fastai
sidebar: home_sidebar

summary: "interact with product apis"
description: "interact with product apis"
nb_path: "product-sdk.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: product-sdk.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FunctionNames" class="doc_header"><code>class</code> <code>FunctionNames</code><a href="https://github.com/thanakijwanavit/villa-product-sdk/tree/master/villaProductSdk/products.py#L20" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FunctionNames</code>(<strong><code>branchName</code></strong>:<code>str</code>=<em><code>'dev-manual'</code></em>)</p>
</blockquote>

<pre><code>determine function and resources name based on branchName</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ProductSdk" class="doc_header"><code>class</code> <code>ProductSdk</code><a href="https://github.com/thanakijwanavit/villa-product-sdk/tree/master/villaProductSdk/products.py#L35" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ProductSdk</code>(<strong><code>branch</code></strong>:<code>str</code>=<em><code>'dev-manual'</code></em>, <strong><code>user</code></strong>:<code>Optional</code>[<code>str</code>]=<em><code>None</code></em>, <strong><code>pw</code></strong>:<code>Optional</code>[<code>str</code>]=<em><code>None</code></em>, <strong><code>region</code></strong>:<code>str</code>=<em><code>'ap-southeast-1'</code></em>)</p>
</blockquote>

<pre><code>the main class for interacting with product endpoint
user/pw are optional</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Testing">Testing<a class="anchor-link" href="#Testing"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">dataclasses_json</span> <span class="kn">import</span> <span class="n">dataclass_json</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randrange</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">import</span> <span class="nn">boto3</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="generate-dummy-data-for-testing">generate dummy data for testing<a class="anchor-link" href="#generate-dummy-data-for-testing"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sampleProducts</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;cprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0171670&#39;</span><span class="p">,</span> <span class="s1">&#39;iprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0171670&#39;</span><span class="p">,</span> <span class="s1">&#39;oprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0171670&#39;</span><span class="p">,</span> <span class="s1">&#39;ordertype&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_abb&#39;</span><span class="p">:</span> <span class="s1">&#39;JIRAPAT YOUG KALE 2&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_active&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_cgcode&#39;</span><span class="p">:</span> <span class="s1">&#39;05&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_code&#39;</span><span class="p">:</span> <span class="s1">&#39;0171670&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_dpcode&#39;</span><span class="p">:</span> <span class="s1">&#39;19&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_engname&#39;</span><span class="p">:</span> <span class="s1">&#39;JIRAPAT YOUNG KALE 200 G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_ggcode&#39;</span><span class="p">:</span> <span class="s1">&#39;057&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_market&#39;</span><span class="p">:</span> <span class="s1">&#39;JIRAPAT ยอดคะน้า 200 G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_name&#39;</span><span class="p">:</span> <span class="s1">&#39;JIRAPAT ยอดคะน้า 200 G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_puqty&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sa_method&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sucode1&#39;</span><span class="p">:</span> <span class="s1">&#39;CM845     &#39;</span><span class="p">,</span> <span class="s1">&#39;pr_suref3&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;prtype&#39;</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;psqty&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pstype&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;cprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0235141&#39;</span><span class="p">,</span> <span class="s1">&#39;iprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0235141&#39;</span><span class="p">,</span> <span class="s1">&#39;oprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0235141&#39;</span><span class="p">,</span> <span class="s1">&#39;ordertype&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_abb&#39;</span><span class="p">:</span> <span class="s1">&#39;EEBOO-PZCT3-PUZZLE&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_active&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_cgcode&#39;</span><span class="p">:</span> <span class="s1">&#39;08&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_code&#39;</span><span class="p">:</span> <span class="s1">&#39;0235141&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_dpcode&#39;</span><span class="p">:</span> <span class="s1">&#39;19&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_engname&#39;</span><span class="p">:</span> <span class="s1">&#39;EEBOO,ANIMAL COUNTING PUZZLE_3ED,PZCT3&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_ggcode&#39;</span><span class="p">:</span> <span class="s1">&#39;113&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_market&#39;</span><span class="p">:</span> <span class="s1">&#39;eeboo,PUZZLE-PZCT3&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_name&#39;</span><span class="p">:</span> <span class="s1">&#39;EEBOO-PZCT3-ตัวต่อนับเลข ANIMAL COUNTING_3ED&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_puqty&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sa_method&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sucode1&#39;</span><span class="p">:</span> <span class="s1">&#39;CM1979    &#39;</span><span class="p">,</span> <span class="s1">&#39;pr_suref3&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;prtype&#39;</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;psqty&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pstype&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;cprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0217153&#39;</span><span class="p">,</span> <span class="s1">&#39;iprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0217153&#39;</span><span class="p">,</span> <span class="s1">&#39;oprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0217153&#39;</span><span class="p">,</span> <span class="s1">&#39;ordertype&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_abb&#39;</span><span class="p">:</span> <span class="s1">&#39;COCOA LOCO MILK CHOC&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_active&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_cgcode&#39;</span><span class="p">:</span> <span class="s1">&#39;98&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_code&#39;</span><span class="p">:</span> <span class="s1">&#39;0217153&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_dpcode&#39;</span><span class="p">:</span> <span class="s1">&#39;28&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_engname&#39;</span><span class="p">:</span> <span class="s1">&#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_ggcode&#39;</span><span class="p">:</span> <span class="s1">&#39;003&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_market&#39;</span><span class="p">:</span> <span class="s1">&#39;COCOA LOCO MILK CHOCOLATE OWL&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_name&#39;</span><span class="p">:</span> <span class="s1">&#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_puqty&#39;</span><span class="p">:</span> <span class="s1">&#39;24&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sa_method&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sucode1&#39;</span><span class="p">:</span> <span class="s1">&#39;F1222     &#39;</span><span class="p">,</span> <span class="s1">&#39;pr_suref3&#39;</span><span class="p">:</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;prtype&#39;</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;psqty&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pstype&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;cprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0182223&#39;</span><span class="p">,</span> <span class="s1">&#39;iprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0182223&#39;</span><span class="p">,</span> <span class="s1">&#39;oprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0182223&#39;</span><span class="p">,</span> <span class="s1">&#39;ordertype&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_abb&#39;</span><span class="p">:</span> <span class="s1">&#39;CIRIO PIZZASSIMO 400&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_active&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_cgcode&#39;</span><span class="p">:</span> <span class="s1">&#39;06&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_code&#39;</span><span class="p">:</span> <span class="s1">&#39;0182223&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_dpcode&#39;</span><span class="p">:</span> <span class="s1">&#39;06&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_engname&#39;</span><span class="p">:</span> <span class="s1">&#39;CIRIO PIZZASSIMO 400G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_ggcode&#39;</span><span class="p">:</span> <span class="s1">&#39;004&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_market&#39;</span><span class="p">:</span> <span class="s1">&#39;CIRIO ซอสทำพิซซ่า 400 G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_name&#39;</span><span class="p">:</span> <span class="s1">&#39;CIRIO ซอสทำพิซซ่า 400 G.&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_puqty&#39;</span><span class="p">:</span> <span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sa_method&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sucode1&#39;</span><span class="p">:</span> <span class="s1">&#39;2589      &#39;</span><span class="p">,</span> <span class="s1">&#39;pr_suref3&#39;</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;prtype&#39;</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;psqty&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pstype&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;cprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0124461&#39;</span><span class="p">,</span> <span class="s1">&#39;iprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0124461&#39;</span><span class="p">,</span> <span class="s1">&#39;oprcode&#39;</span><span class="p">:</span> <span class="s1">&#39;0124461&#39;</span><span class="p">,</span> <span class="s1">&#39;ordertype&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_abb&#39;</span><span class="p">:</span> <span class="s1">&#39;NEW CHOICE LYCHEE&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_active&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_cgcode&#39;</span><span class="p">:</span> <span class="s1">&#39;02&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_code&#39;</span><span class="p">:</span> <span class="s1">&#39;0124461&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_dpcode&#39;</span><span class="p">:</span> <span class="s1">&#39;02&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_engname&#39;</span><span class="p">:</span> <span class="s1">&#39;NEW CHOICE LYCHEE&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_ggcode&#39;</span><span class="p">:</span> <span class="s1">&#39;003&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_market&#39;</span><span class="p">:</span> <span class="s1">&#39;NEW CHOICE กลิ่นลิ้นจี่&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_name&#39;</span><span class="p">:</span> <span class="s1">&#39;NEW CHOICE กลิ่นลิ้นจี่&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_puqty&#39;</span><span class="p">:</span> <span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sa_method&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_sucode1&#39;</span><span class="p">:</span> <span class="s1">&#39;695       &#39;</span><span class="p">,</span> <span class="s1">&#39;pr_suref3&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;prtype&#39;</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;psqty&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;pstype&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Create-main-class-object">Create main class object<a class="anchor-link" href="#Create-main-class-object"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sdk</span> <span class="o">=</span> <span class="n">ProductSdk</span><span class="p">(</span><span class="n">branch</span> <span class="o">=</span> <span class="s1">&#39;dev-manual&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>INFO:botocore.credentials:Found credentials in shared credentials file: ~/.aws/credentials
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Upload-s3-data">Upload s3 data<a class="anchor-link" href="#Upload-s3-data"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">updateWithS3</span><span class="p">(</span>
    <span class="n">sampleProducts</span><span class="p">,</span>
    <span class="n">invocationType</span> <span class="o">=</span> <span class="n">InvocationType</span><span class="o">.</span><span class="n">event</span>
  <span class="p">)</span>
<span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>INFO:root:bucket is input-product-bucket-dev-manual
INFO:root:using accelerate endpoint
INFO:root:data was saved to s3
INFO:root:data is saved to s3, invoking ingestion function
INFO:root:input to lambda is {&#39;body&#39;: &#39;{&#34;key&#34;:&#34;input-data-name&#34;}&#39;, &#39;headers&#39;: {}, &#39;statusCode&#39;: 200}
INFO:root:lambdaResponse is True
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 51.1 ms, sys: 11.2 ms, total: 62.4 ms
Wall time: 212 ms
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;successfully sent event, please watch your slack&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="test-with-lots-of-data">test with lots of data<a class="anchor-link" href="#test-with-lots-of-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./sampleData/products.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/ec2-user/SageMaker/.persisted_conda/python38/lib/python3.8/site-packages/IPython/core/interactiveshell.py:3146: DtypeWarning: Columns (6,7,10,20,31) have mixed types.Specify dtype option on import or set low_memory=False.
  has_raised = await self.run_ast_nodes(code_ast.body, cell_name,
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="c1"># data[0]</span>
<span class="c1"># try with 100 rows</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">updateWithS3</span><span class="p">(</span>
    <span class="n">data</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span>
    <span class="n">invocationType</span> <span class="o">=</span> <span class="n">InvocationType</span><span class="o">.</span><span class="n">event</span>
  <span class="p">)</span>
<span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>INFO:root:bucket is input-product-bucket-dev-manual
INFO:root:using accelerate endpoint
INFO:root:data was saved to s3
INFO:root:data is saved to s3, invoking ingestion function
INFO:root:input to lambda is {&#39;body&#39;: &#39;{&#34;key&#34;:&#34;input-data-name&#34;}&#39;, &#39;headers&#39;: {}, &#39;statusCode&#39;: 200}
INFO:root:lambdaResponse is True
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 419 ms, sys: 3.95 ms, total: 423 ms
Wall time: 545 ms
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;successfully sent event, please watch your slack&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Query-Single-Product">Query Single Product<a class="anchor-link" href="#Query-Single-Product"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="querySingleProduct" class="doc_header"><code>querySingleProduct</code><a href="https://github.com/thanakijwanavit/villa-product-sdk/tree/master/villaProductSdk/products.py#L129" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>querySingleProduct</code>(<strong><code>iprcode</code></strong>=<em><code>'0171670'</code></em>, <strong><code>user</code></strong>=<em><code>None</code></em>, <strong><code>pw</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

<pre><code>query a single product</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">querySingleProduct</span><span class="p">(</span><span class="s1">&#39;0171670&#39;</span><span class="p">)</span>
<span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;0171670&#39;: {&#39;cprcode&#39;: &#39;0171670&#39;,
  &#39;iprcode&#39;: &#39;0171670&#39;,
  &#39;oprcode&#39;: &#39;0171670&#39;,
  &#39;ordertype&#39;: &#39;Y&#39;,
  &#39;pr_abb&#39;: &#39;JIRAPAT YOUNG KALE 2&#39;,
  &#39;pr_active&#39;: &#39;Y&#39;,
  &#39;pr_cgcode&#39;: &#39;05&#39;,
  &#39;pr_code&#39;: &#39;0171670&#39;,
  &#39;pr_dpcode&#39;: &#39;19&#39;,
  &#39;pr_engname&#39;: &#39;JIRAPAT YOUNG KALE 200 G.&#39;,
  &#39;pr_ggcode&#39;: &#39;057&#39;,
  &#39;pr_market&#39;: &#39;JIRAPAT ยอดคะน้า 200 G.&#39;,
  &#39;pr_name&#39;: &#39;JIRAPAT ยอดคะน้า 200 G.&#39;,
  &#39;pr_puqty&#39;: &#39;1.00&#39;,
  &#39;pr_sa_method&#39;: &#39;1&#39;,
  &#39;pr_sucode1&#39;: &#39;CM845&#39;,
  &#39;pr_suref3&#39;: &#39;A&#39;,
  &#39;prtype&#39;: &#39;I&#39;,
  &#39;psqty&#39;: &#39;1&#39;,
  &#39;pstype&#39;: &#39;1&#39;,
  &#39;pr_country_th&#39;: &#39;none&#39;,
  &#39;pr_country_en&#39;: &#39;none&#39;,
  &#39;pr_keyword_th&#39;: &#39;none&#39;,
  &#39;pr_keyword_en&#39;: &#39;none&#39;,
  &#39;pr_filter_th&#39;: &#39;none&#39;,
  &#39;pr_filter_en&#39;: &#39;none&#39;,
  &#39;online_category_l1_th&#39;: &#39;none&#39;,
  &#39;online_category_l1_en&#39;: &#39;none&#39;,
  &#39;online_category_l2_th&#39;: &#39;none&#39;,
  &#39;online_category_l2_en&#39;: &#39;none&#39;,
  &#39;online_category_l3_th&#39;: &#39;none&#39;,
  &#39;online_category_l3_en&#39;: &#39;none&#39;,
  &#39;content_en&#39;: &#39;0171670 JIRAPAT YOUNG KALE 200 G.&#39;,
  &#39;content_th&#39;: &#39;JIRAPAT YOUNG KALE 200 G.&#39;,
  &#39;hema_brand_th&#39;: &#39;none&#39;,
  &#39;hema_brand_en&#39;: &#39;none&#39;,
  &#39;hema_sizedesc&#39;: &#39;none&#39;},
 &#39;iprcode&#39;: &#39;0171670&#39;,
 &#39;cprcode&#39;: &#39;0171670&#39;,
 &#39;oprcode&#39;: &#39;0171670&#39;,
 &#39;ordertype&#39;: &#39;Y&#39;,
 &#39;pr_abb&#39;: &#39;JIRAPAT YOUG KALE 2&#39;,
 &#39;pr_active&#39;: &#39;Y&#39;,
 &#39;pr_cgcode&#39;: &#39;05&#39;,
 &#39;pr_code&#39;: &#39;0171670&#39;,
 &#39;pr_dpcode&#39;: &#39;19&#39;,
 &#39;pr_engname&#39;: &#39;JIRAPAT YOUNG KALE 200 G.&#39;,
 &#39;pr_ggcode&#39;: &#39;057&#39;,
 &#39;pr_market&#39;: &#39;JIRAPAT ยอดคะน้า 200 G.&#39;,
 &#39;pr_name&#39;: &#39;JIRAPAT ยอดคะน้า 200 G.&#39;,
 &#39;pr_puqty&#39;: &#39;1&#39;,
 &#39;pr_sa_method&#39;: &#39;1&#39;,
 &#39;pr_sucode1&#39;: &#39;CM845&#39;,
 &#39;pr_suref3&#39;: &#39;A&#39;,
 &#39;prtype&#39;: &#39;I&#39;,
 &#39;psqty&#39;: &#39;1&#39;,
 &#39;pstype&#39;: &#39;1&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">querySingleProduct</span><span class="p">(</span><span class="s1">&#39;3203290&#39;</span><span class="p">)</span>
<span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;error&#39;: &#39;product not found&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="All-Query">All Query<a class="anchor-link" href="#All-Query"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">allQuery</span><span class="p">()</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">printFirst</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;0217153&#39;,
 {&#39;0217153&#39;: {&#39;cprcode&#39;: &#39;0217153&#39;,
   &#39;iprcode&#39;: &#39;0217153&#39;,
   &#39;oprcode&#39;: &#39;0217153&#39;,
   &#39;ordertype&#39;: &#39;Y&#39;,
   &#39;pr_abb&#39;: &#39;COCOA LOCO MILK CHOC&#39;,
   &#39;pr_active&#39;: &#39;Y&#39;,
   &#39;pr_cgcode&#39;: &#39;98&#39;,
   &#39;pr_code&#39;: &#39;0217153&#39;,
   &#39;pr_dpcode&#39;: &#39;28&#39;,
   &#39;pr_engname&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_ggcode&#39;: &#39;003&#39;,
   &#39;pr_market&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL&#39;,
   &#39;pr_name&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_puqty&#39;: &#39;24.00&#39;,
   &#39;pr_sa_method&#39;: &#39;1&#39;,
   &#39;pr_sucode1&#39;: &#39;F1239&#39;,
   &#39;pr_suref3&#39;: &#39;S&#39;,
   &#39;prtype&#39;: &#39;I&#39;,
   &#39;psqty&#39;: &#39;1&#39;,
   &#39;pstype&#39;: &#39;1&#39;,
   &#39;pr_country_th&#39;: &#39;&#39;,
   &#39;pr_country_en&#39;: &#39;United Kingdom&#39;,
   &#39;pr_keyword_th&#39;: &#39;&#39;,
   &#39;pr_keyword_en&#39;: &#39;&#39;,
   &#39;pr_filter_th&#39;: &#39;&#39;,
   &#39;pr_filter_en&#39;: &#39;&#39;,
   &#39;online_category_l1_th&#39;: &#39;&#39;,
   &#39;online_category_l1_en&#39;: &#39;&#39;,
   &#39;online_category_l2_th&#39;: &#39;&#39;,
   &#39;online_category_l2_en&#39;: &#39;&#39;,
   &#39;online_category_l3_th&#39;: &#39;&#39;,
   &#39;online_category_l3_en&#39;: &#39;&#39;,
   &#39;villa_category_l1_en&#39;: &#39;Dry Grocery&#39;,
   &#39;villa_category_l2_en&#39;: &#39;Grocery&#39;,
   &#39;villa_category_l3_en&#39;: &#39;Cookies &amp; Snacks&#39;,
   &#39;villa_category_l4_en&#39;: &#39;Biscuits &amp; Crackers&#39;,
   &#39;content_en&#39;: &#39;0217153 COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;content_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;hema_brand_th&#39;: &#39;&#39;,
   &#39;hema_brand_en&#39;: &#39;&#39;,
   &#39;hema_sizedesc&#39;: &#39;&#39;,
   &#39;pr_brand_en&#39;: &#39;&#39;,
   &#39;pr_brand_th&#39;: &#39;&#39;,
   &#39;pr_online_name_en&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_online_name_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;hema_name_en&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;hema_name_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_name_en&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_name_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_barcode&#39;: &#39;5060148383378&#39;,
   &#39;pr_barcode2&#39;: &#39;506014838337&#39;,
   &#39;sort_weight&#39;: &#39;0&#39;}})</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Query-list-of-items">Query list of items<a class="anchor-link" href="#Query-list-of-items"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ProductsFromList" class="doc_header"><code>class</code> <code>ProductsFromList</code><a href="https://github.com/thanakijwanavit/villa-product-sdk/tree/master/villaProductSdk/products.py#L146" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ProductsFromList</code>(<strong><code>iprcodes</code></strong>:<code>List</code>[<code>str</code>])</p>
</blockquote>

<pre><code>ProductsFromList(iprcodes: List[str])</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="queryList" class="doc_header"><code>queryList</code><a href="https://github.com/thanakijwanavit/villa-product-sdk/tree/master/villaProductSdk/products.py#L150" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>queryList</code>(<strong><code>iprcodes</code></strong>:<code>List</code>[<code>str</code>])</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iprcodes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0217153&#39;</span><span class="p">,</span><span class="s1">&#39;203915&#39;</span><span class="p">,</span><span class="s1">&#39;0000009&#39;</span><span class="p">]</span>
<span class="n">sdk</span><span class="o">.</span><span class="n">queryList</span><span class="p">(</span><span class="n">iprcodes</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[{&#39;0217153&#39;: {&#39;cprcode&#39;: &#39;0217153&#39;,
   &#39;iprcode&#39;: &#39;0217153&#39;,
   &#39;oprcode&#39;: &#39;0217153&#39;,
   &#39;ordertype&#39;: &#39;Y&#39;,
   &#39;pr_abb&#39;: &#39;COCOA LOCO MILK CHOC&#39;,
   &#39;pr_active&#39;: &#39;Y&#39;,
   &#39;pr_cgcode&#39;: &#39;98&#39;,
   &#39;pr_code&#39;: &#39;0217153&#39;,
   &#39;pr_dpcode&#39;: &#39;28&#39;,
   &#39;pr_engname&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_ggcode&#39;: &#39;003&#39;,
   &#39;pr_market&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL&#39;,
   &#39;pr_name&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_puqty&#39;: &#39;24.00&#39;,
   &#39;pr_sa_method&#39;: &#39;1&#39;,
   &#39;pr_sucode1&#39;: &#39;F1239&#39;,
   &#39;pr_suref3&#39;: &#39;S&#39;,
   &#39;prtype&#39;: &#39;I&#39;,
   &#39;psqty&#39;: &#39;1&#39;,
   &#39;pstype&#39;: &#39;1&#39;,
   &#39;pr_country_th&#39;: &#39;&#39;,
   &#39;pr_country_en&#39;: &#39;United Kingdom&#39;,
   &#39;pr_keyword_th&#39;: &#39;&#39;,
   &#39;pr_keyword_en&#39;: &#39;&#39;,
   &#39;pr_filter_th&#39;: &#39;&#39;,
   &#39;pr_filter_en&#39;: &#39;&#39;,
   &#39;online_category_l1_th&#39;: &#39;&#39;,
   &#39;online_category_l1_en&#39;: &#39;&#39;,
   &#39;online_category_l2_th&#39;: &#39;&#39;,
   &#39;online_category_l2_en&#39;: &#39;&#39;,
   &#39;online_category_l3_th&#39;: &#39;&#39;,
   &#39;online_category_l3_en&#39;: &#39;&#39;,
   &#39;villa_category_l1_en&#39;: &#39;Dry Grocery&#39;,
   &#39;villa_category_l2_en&#39;: &#39;Grocery&#39;,
   &#39;villa_category_l3_en&#39;: &#39;Cookies &amp; Snacks&#39;,
   &#39;villa_category_l4_en&#39;: &#39;Biscuits &amp; Crackers&#39;,
   &#39;content_en&#39;: &#39;0217153 COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;content_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;hema_brand_th&#39;: &#39;&#39;,
   &#39;hema_brand_en&#39;: &#39;&#39;,
   &#39;hema_sizedesc&#39;: &#39;&#39;,
   &#39;pr_brand_en&#39;: &#39;&#39;,
   &#39;pr_brand_th&#39;: &#39;&#39;,
   &#39;pr_online_name_en&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_online_name_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;hema_name_en&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;hema_name_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_name_en&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_name_th&#39;: &#39;COCOA LOCO MILK CHOCOLATE OWL LOLLY 26G.&#39;,
   &#39;pr_barcode&#39;: &#39;5060148383378&#39;,
   &#39;pr_barcode2&#39;: &#39;506014838337&#39;,
   &#39;sort_weight&#39;: &#39;0&#39;}},
 {&#39;203915&#39;: {&#39;cprcode&#39;: &#39;203915&#39;,
   &#39;iprcode&#39;: &#39;203915&#39;,
   &#39;oprcode&#39;: &#39;203915&#39;,
   &#39;ordertype&#39;: &#39;Y&#39;,
   &#39;pr_abb&#39;: &#39;MEIJI GUMMY CHOCO GR&#39;,
   &#39;pr_active&#39;: &#39;Y&#39;,
   &#39;pr_cgcode&#39;: &#39;4&#39;,
   &#39;pr_code&#39;: &#39;203915&#39;,
   &#39;pr_dpcode&#39;: &#39;2.0&#39;,
   &#39;pr_engname&#39;: &#39;MEIJI GUMMY CHOCO GREEN GRAPE 30G&#39;,
   &#39;pr_ggcode&#39;: &#39;2&#39;,
   &#39;pr_market&#39;: &#39;เมจิ กัมมี่ ช็อกโก กรีนเกรป 30&#39;,
   &#39;pr_name&#39;: &#39;เมจิ กัมมี่ ช็อกโก กรีนเกรป 30 กรัม&#39;,
   &#39;pr_puqty&#39;: &#39;20.0&#39;,
   &#39;pr_sa_method&#39;: &#39;1&#39;,
   &#39;pr_sucode1&#39;: &#39;2943&#39;,
   &#39;pr_suref3&#39;: &#39;C&#39;,
   &#39;prtype&#39;: &#39;I&#39;,
   &#39;psqty&#39;: &#39;1.0&#39;,
   &#39;pstype&#39;: &#39;1.0&#39;,
   &#39;pr_country_th&#39;: &#39;none&#39;,
   &#39;pr_country_en&#39;: &#39;China&#39;,
   &#39;pr_keyword_th&#39;: &#39;none&#39;,
   &#39;pr_keyword_en&#39;: &#39;none&#39;,
   &#39;pr_filter_th&#39;: &#39;Grocery,Chocolate&#39;,
   &#39;pr_filter_en&#39;: &#39;Grocery,Chocolate&#39;,
   &#39;online_category_l1_th&#39;: &#39;สินค้าบริโภค&#39;,
   &#39;online_category_l1_en&#39;: &#39;Grocery&#39;,
   &#39;online_category_l2_th&#39;: &#39;ช็อคโกแลต&#39;,
   &#39;online_category_l2_en&#39;: &#39;Chocolate&#39;,
   &#39;online_category_l3_th&#39;: &#39;none&#39;,
   &#39;online_category_l3_en&#39;: &#39;none&#39;,
   &#39;villa_category_l1_en&#39;: &#39;Dry Grocery&#39;,
   &#39;villa_category_l2_en&#39;: &#39;Grocery&#39;,
   &#39;villa_category_l3_en&#39;: &#39;Candies&#39;,
   &#39;villa_category_l4_en&#39;: &#39;Confectionery&#39;,
   &#39;content_en&#39;: &#39;0203915 Meiji Gummy Choco Green Grape 30g&#39;,
   &#39;content_th&#39;: &#39;Meiji Gummy Choco Green Grape 30g&#39;,
   &#39;hema_brand_th&#39;: &#39;Meiji&#39;,
   &#39;hema_brand_en&#39;: &#39;Meiji&#39;,
   &#39;hema_sizedesc&#39;: &#39;30g&#39;,
   &#39;pr_brand_en&#39;: &#39;MEIJI&#39;,
   &#39;pr_brand_th&#39;: &#39;MEIJI&#39;,
   &#39;pr_online_name_en&#39;: &#39;Meiji Gummy Choco Green Grape 30g&#39;,
   &#39;pr_online_name_th&#39;: &#39;Meiji Gummy Choco Green Grape 30g&#39;,
   &#39;hema_name_en&#39;: &#39;Gummy Choco Green Grape&#39;,
   &#39;hema_name_th&#39;: &#39;Gummy Choco Green Grape&#39;,
   &#39;pr_name_en&#39;: &#39;MEIJI GUMMY CHOCO GREEN GRAPE 30G&#39;,
   &#39;pr_name_th&#39;: &#39;เมจิ กัมมี่ ช็อกโก กรีนเกรป 30 กรัม&#39;,
   &#39;sort_weight&#39;: &#39;0.0&#39;}},
 {&#39;0000009&#39;: {&#39;cprcode&#39;: &#39;0000009&#39;,
   &#39;iprcode&#39;: &#39;0000009&#39;,
   &#39;oprcode&#39;: &#39;0000009&#39;,
   &#39;ordertype&#39;: &#39;Y&#39;,
   &#39;pr_abb&#39;: &#39;J. WALKER RED 70 CL.&#39;,
   &#39;pr_active&#39;: &#39;Y&#39;,
   &#39;pr_cgcode&#39;: &#39;01&#39;,
   &#39;pr_code&#39;: &#39;0000009&#39;,
   &#39;pr_dpcode&#39;: &#39;01&#39;,
   &#39;pr_engname&#39;: &#39;JOHNNIE WALKER RED 70 CL.&#39;,
   &#39;pr_ggcode&#39;: &#39;001&#39;,
   &#39;pr_market&#39;: &#39;J. WALKER RED 70 CL&#39;,
   &#39;pr_name&#39;: &#39;JOHNNIE WALKER RED 70 CL&#39;,
   &#39;pr_puqty&#39;: &#39;12.00&#39;,
   &#39;pr_sa_method&#39;: &#39;1&#39;,
   &#39;pr_sucode1&#39;: &#39;1782&#39;,
   &#39;pr_suref3&#39;: &#39;A&#39;,
   &#39;prtype&#39;: &#39;I&#39;,
   &#39;psqty&#39;: &#39;1&#39;,
   &#39;pstype&#39;: &#39;1&#39;,
   &#39;pr_country_th&#39;: &#39;&#39;,
   &#39;pr_country_en&#39;: &#39;United Kingdom&#39;,
   &#39;pr_keyword_th&#39;: &#39;&#39;,
   &#39;pr_keyword_en&#39;: &#39;&#39;,
   &#39;pr_filter_th&#39;: &#39;Alcohol,Spirits  Liqueurs&#39;,
   &#39;pr_filter_en&#39;: &#39;Alcohol,Spirits  Liqueurs&#39;,
   &#39;online_category_l1_th&#39;: &#39;เบียร์, ไวน์และสุรา&#39;,
   &#39;online_category_l1_en&#39;: &#39;Beer Wine &amp; Spirits&#39;,
   &#39;online_category_l2_th&#39;: &#39;เหล้า&#39;,
   &#39;online_category_l2_en&#39;: &#39;Spirits &amp; Liqueurs&#39;,
   &#39;online_category_l3_th&#39;: &#39;&#39;,
   &#39;online_category_l3_en&#39;: &#39;&#39;,
   &#39;villa_category_l1_en&#39;: &#39;Dry Grocery&#39;,
   &#39;villa_category_l2_en&#39;: &#39;Alcohol &amp; Beverage&#39;,
   &#39;villa_category_l3_en&#39;: &#39;Whisky&#39;,
   &#39;villa_category_l4_en&#39;: &#39;Scoth Whisky&#39;,
   &#39;content_en&#39;: &#39;0000009 Johnnie Walker Red 700ml&#39;,
   &#39;content_th&#39;: &#39;JOHNNIE WALKER RED 700ml&#39;,
   &#39;hema_brand_th&#39;: &#39;Johnnie Walker&#39;,
   &#39;hema_brand_en&#39;: &#39;Johnnie Walker&#39;,
   &#39;hema_sizedesc&#39;: &#39;700ml&#39;,
   &#39;pr_brand_en&#39;: &#39;Johnnie Walker&#39;,
   &#39;pr_brand_th&#39;: &#39;Johnnie Walker&#39;,
   &#39;pr_online_name_en&#39;: &#39;Johnnie Walker Red 700ml&#39;,
   &#39;pr_online_name_th&#39;: &#39;JOHNNIE WALKER RED 700ml&#39;,
   &#39;hema_name_en&#39;: &#39;Johnnie Walker Red&#39;,
   &#39;hema_name_th&#39;: &#39;JOHNNIE WALKER RED&#39;,
   &#39;pr_name_en&#39;: &#39;JOHNNIE WALKER RED 70 CL.&#39;,
   &#39;pr_name_th&#39;: &#39;JOHNNIE WALKER RED 70 CL&#39;,
   &#39;sort_weight&#39;: 0}}]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Trigger-s3-sync">Trigger s3 sync<a class="anchor-link" href="#Trigger-s3-sync"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">syncS3</span><span class="p">()</span>
<span class="n">response</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="c1">##large Image</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://d19oj5aeuefgv.cloudfront.net&#39;</span>
<span class="n">sku</span> <span class="o">=</span> <span class="s1">&#39;0189194&#39;</span>
<span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">sku</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">),</span><span class="n">formats</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;PNG&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">time</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://d1vl5j0v241n75.cloudfront.net&#39;</span>
<span class="n">sku</span> <span class="o">=</span> <span class="s1">&#39;0189194&#39;</span>
<span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">sku</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">),</span><span class="n">formats</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;PNG&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

